{"ast":null,"code":"/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { POLL_OPTION_LENGTH, POLL_QUESTION_LENGTH } from '../Constants';\nexport function isValidPoll(poll) {\n  if (!poll) return false;\n  var question = poll.question,\n      options = poll.options;\n  if (!isValidQuestion(question)) return false;\n  var noneEmptyOptions = options.filter(function (x) {\n    return Boolean(x.text);\n  });\n  if (noneEmptyOptions.length <= 1) return false;\n  return noneEmptyOptions.every(isValidOption);\n}\n\nfunction isValidQuestion(question) {\n  if (!question) return false;\n  return question.length <= POLL_QUESTION_LENGTH;\n}\n\nfunction isValidOption(option) {\n  if (!option) return false;\n  if (!option.text) return false;\n  return option.text.length <= POLL_OPTION_LENGTH;\n}\n\nexport function hasPollData(poll) {\n  if (!poll) return false;\n  var question = poll.question,\n      options = poll.options;\n  if (question) return true;\n  return options.some(function (x) {\n    return Boolean(x.text);\n  });\n}","map":{"version":3,"sources":["/Users/wubenqi/nebula-chat/telegram-react/src/Utils/Poll.js"],"names":["POLL_OPTION_LENGTH","POLL_QUESTION_LENGTH","isValidPoll","poll","question","options","isValidQuestion","noneEmptyOptions","filter","x","Boolean","text","length","every","isValidOption","option","hasPollData","some"],"mappings":"AAAA;;;;;;AAOA,SAASA,kBAAT,EAA6BC,oBAA7B,QAAyD,cAAzD;AAEA,OAAO,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AAC9B,MAAI,CAACA,IAAL,EAAW,OAAO,KAAP;AADmB,MAGtBC,QAHsB,GAGAD,IAHA,CAGtBC,QAHsB;AAAA,MAGZC,OAHY,GAGAF,IAHA,CAGZE,OAHY;AAI9B,MAAI,CAACC,eAAe,CAACF,QAAD,CAApB,EAAgC,OAAO,KAAP;AAEhC,MAAMG,gBAAgB,GAAGF,OAAO,CAACG,MAAR,CAAe,UAAAC,CAAC;AAAA,WAAIC,OAAO,CAACD,CAAC,CAACE,IAAH,CAAX;AAAA,GAAhB,CAAzB;AACA,MAAIJ,gBAAgB,CAACK,MAAjB,IAA2B,CAA/B,EAAkC,OAAO,KAAP;AAElC,SAAOL,gBAAgB,CAACM,KAAjB,CAAuBC,aAAvB,CAAP;AACH;;AAED,SAASR,eAAT,CAAyBF,QAAzB,EAAmC;AAC/B,MAAI,CAACA,QAAL,EAAe,OAAO,KAAP;AAEf,SAAOA,QAAQ,CAACQ,MAAT,IAAmBX,oBAA1B;AACH;;AAED,SAASa,aAAT,CAAuBC,MAAvB,EAA+B;AAC3B,MAAI,CAACA,MAAL,EAAa,OAAO,KAAP;AACb,MAAI,CAACA,MAAM,CAACJ,IAAZ,EAAkB,OAAO,KAAP;AAElB,SAAOI,MAAM,CAACJ,IAAP,CAAYC,MAAZ,IAAsBZ,kBAA7B;AACH;;AAED,OAAO,SAASgB,WAAT,CAAqBb,IAArB,EAA2B;AAC9B,MAAI,CAACA,IAAL,EAAW,OAAO,KAAP;AADmB,MAGtBC,QAHsB,GAGAD,IAHA,CAGtBC,QAHsB;AAAA,MAGZC,OAHY,GAGAF,IAHA,CAGZE,OAHY;AAI9B,MAAID,QAAJ,EAAc,OAAO,IAAP;AAEd,SAAOC,OAAO,CAACY,IAAR,CAAa,UAAAR,CAAC;AAAA,WAAIC,OAAO,CAACD,CAAC,CAACE,IAAH,CAAX;AAAA,GAAd,CAAP;AACH","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { POLL_OPTION_LENGTH, POLL_QUESTION_LENGTH } from '../Constants';\n\nexport function isValidPoll(poll) {\n    if (!poll) return false;\n\n    const { question, options } = poll;\n    if (!isValidQuestion(question)) return false;\n\n    const noneEmptyOptions = options.filter(x => Boolean(x.text));\n    if (noneEmptyOptions.length <= 1) return false;\n\n    return noneEmptyOptions.every(isValidOption);\n}\n\nfunction isValidQuestion(question) {\n    if (!question) return false;\n\n    return question.length <= POLL_QUESTION_LENGTH;\n}\n\nfunction isValidOption(option) {\n    if (!option) return false;\n    if (!option.text) return false;\n\n    return option.text.length <= POLL_OPTION_LENGTH;\n}\n\nexport function hasPollData(poll) {\n    if (!poll) return false;\n\n    const { question, options } = poll;\n    if (question) return true;\n\n    return options.some(x => Boolean(x.text));\n}\n"]},"metadata":{},"sourceType":"module"}